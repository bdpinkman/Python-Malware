import socket as sk
import subprocess

ips_on = []


#IP INTERNA
s = sk.socket(sk.AF_INET, sk.SOCK_DGRAM)
s.connect(("8.8.8.8", 80))
ip = s.getsockname()[0].split('.')
s.close()





#RANGO DE IP'S (192.168.X.1-255)
ips = []
for i in range(1,256):
	ip_full = str(ip[0]+'.'+ip[1]+'.'+ip[2]+'.'+str(i))
	ips.append(ip_full)



	

for ip in ips:
    res = subprocess.call(['ping', '-c', '1', ip])
    #OK CONNECTION
    if res == 0:
        ips_on.append(ip)
    #NO RESPONSE
    elif res == 2:
        continue
    #FAILED CONNECTION
    else:
        continue

print ips_on
